{"ast":null,"code":"import _classCallCheck from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import csvToJSON from\"./csvToJSON\";import{Detail}from\"./Detail\";var CollectDataSpec=/*#__PURE__*/function(_Component){_inherits(CollectDataSpec,_Component);var _super=_createSuper(CollectDataSpec);function CollectDataSpec(props){var _this;_classCallCheck(this,CollectDataSpec);_this=_super.call(this);_this.state={temaKorok:[],adatok:{},fotok:[]};return _this;}_createClass(CollectDataSpec,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var urlJobs=\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\";fetch(urlJobs).then(function(resp){return resp.text();}).then(function(text){var adatokJSON=csvToJSON(text,';');//console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\n//console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\n//console.log(\"props=\"+this.props.id)\nvar filtered=adatokJSON.filter(function(obj){return obj.kod===_this2.props.id;});/*for(const i in adatokJSON[0])\r\n                    console.log(adatokJSON[0][i])*/_this2.setState({temaKorok:adatokJSON[0]});//console.log(\"filtered type:\"+typeof(filtered))\nconsole.log(\"obj keys:\"+Object.keys(filtered[0]));_this2.setState({adatok:filtered[0]});var db=parseInt(_this2.state.adatok.fotok);//console.log(\"db=\"+db)\nvar urlImg=[];while(db>0){urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\"+_this2.props.id+\"img\"+(db-1)+\".jpg\");db--;}_this2.setState({fotok:urlImg});//console.log(this.state.fotok.length)\n});}},{key:\"render\",value:function render(){console.log(\"kod=\"+this.state.adatok.kod);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Detail,{temaKorok:this.state.temaKorok,adatok:this.state.adatok,fotok:this.state.fotok}));}}]);return CollectDataSpec;}(Component);export default CollectDataSpec;","map":{"version":3,"sources":["E:/react/kando/kkando/src/components/CollectDataSpec.js"],"names":["React","Component","csvToJSON","Detail","CollectDataSpec","props","state","temaKorok","adatok","fotok","urlJobs","fetch","then","resp","text","adatokJSON","filtered","filter","obj","kod","id","setState","console","log","Object","keys","db","parseInt","urlImg","push"],"mappings":"gkBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAAQC,MAAR,KAAqB,UAArB,C,GAIMC,CAAAA,e,kHACF,yBAAYC,KAAZ,CAAkB,iDACd,wBACA,MAAKC,KAAL,CAAa,CACTC,SAAS,CAAC,EADD,CAETC,MAAM,CAAC,EAFE,CAGTC,KAAK,CAAC,EAHG,CAAb,CAFc,aAOjB,C,yFACkB,iBACf,GAAMC,CAAAA,OAAO,CAAC,2EAAd,CACAC,KAAK,CAACD,OAAD,CAAL,CACKE,IADL,CACU,SAAAC,IAAI,QAAEA,CAAAA,IAAI,CAACC,IAAL,EAAF,EADd,EAEKF,IAFL,CAEU,SAAAE,IAAI,CAAE,CACR,GAAMC,CAAAA,UAAU,CAACb,SAAS,CAACY,IAAD,CAAO,GAAP,CAA1B,CACJ;AACA;AACA;AACA,GAAME,CAAAA,QAAQ,CAACD,UAAU,CAACE,MAAX,CAAkB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,GAAJ,GAAU,MAAI,CAACd,KAAL,CAAWe,EAAvB,EAArB,CAAf,CACA;mDAEA,MAAI,CAACC,QAAL,CAAc,CAACd,SAAS,CAACQ,UAAU,CAAC,CAAD,CAArB,CAAd,EACA;AACAO,OAAO,CAACC,GAAR,CAAY,YAAYC,MAAM,CAACC,IAAP,CAAYT,QAAQ,CAAC,CAAD,CAApB,CAAxB,EACA,MAAI,CAACK,QAAL,CAAc,CAACb,MAAM,CAACQ,QAAQ,CAAC,CAAD,CAAhB,CAAd,EACA,GAAIU,CAAAA,EAAE,CAACC,QAAQ,CAAC,MAAI,CAACrB,KAAL,CAAWE,MAAX,CAAkBC,KAAnB,CAAf,CACA;AACA,GAAImB,CAAAA,MAAM,CAAC,EAAX,CACC,MAAMF,EAAE,CAAC,CAAT,CAAW,CACTE,MAAM,CAACC,IAAP,CAAY,6DAA6D,MAAI,CAACxB,KAAL,CAAWe,EAAxE,CAA2E,KAA3E,EAAkFM,EAAE,CAAC,CAArF,EAAwF,MAApG,EACEA,EAAE,GACL,CACA,MAAI,CAACL,QAAL,CAAc,CAACZ,KAAK,CAACmB,MAAP,CAAd,EACF;AACC,CAvBL,EAyBH,C,uCAEG,CACJN,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKjB,KAAL,CAAWE,MAAX,CAAkBW,GAArC,EACC,mBACG,4CACI,oBAAC,MAAD,EAAQ,SAAS,CAAE,KAAKb,KAAL,CAAWC,SAA9B,CAAyC,MAAM,CAAE,KAAKD,KAAL,CAAWE,MAA5D,CAAoE,KAAK,CAAE,KAAKF,KAAL,CAAWG,KAAtF,EADJ,CADH,CAIC,C,6BA5CwBR,S,EA8C9B,cAAeG,CAAAA,eAAf","sourcesContent":["import React,{ Component }  from 'react';\r\nimport csvToJSON from \"./csvToJSON\" \r\nimport {Detail} from \"./Detail\"\r\n\r\n\r\n\r\nclass CollectDataSpec extends Component{\r\n    constructor(props){\r\n        super()\r\n        this.state = {\r\n            temaKorok:[],\r\n            adatok:{},\r\n            fotok:[]\r\n        }\r\n    }\r\n    componentDidMount(){  \r\n        const urlJobs=\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\"\r\n        fetch(urlJobs)           \r\n            .then(resp=>resp.text())\r\n            .then(text=>{\r\n                const adatokJSON=csvToJSON(text, ';')\r\n            //console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\r\n            //console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\r\n            //console.log(\"props=\"+this.props.id)\r\n            const filtered=adatokJSON.filter(obj=>obj.kod===this.props.id) \r\n            /*for(const i in adatokJSON[0])\r\n                    console.log(adatokJSON[0][i])*/\r\n            this.setState({temaKorok:adatokJSON[0]})\r\n            //console.log(\"filtered type:\"+typeof(filtered))\r\n            console.log(\"obj keys:\"+Object.keys(filtered[0]))\r\n            this.setState({adatok:filtered[0]})\r\n            let db=parseInt(this.state.adatok.fotok)\r\n            //console.log(\"db=\"+db)\r\n            let urlImg=[]\r\n             while(db>0){\r\n               urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\"+this.props.id+\"img\"+(db-1)+\".jpg\")\r\n                 db--;\r\n             }\r\n              this.setState({fotok:urlImg})\r\n            //console.log(this.state.fotok.length)\r\n            })\r\n            \r\n    }\r\n   \r\nrender(){\r\n    console.log(\"kod=\"+this.state.adatok.kod)\r\n     return(\r\n        <div>\r\n            <Detail temaKorok={this.state.temaKorok} adatok={this.state.adatok} fotok={this.state.fotok}/>\r\n        </div>\r\n    )}   \r\n}\r\nexport default CollectDataSpec           "]},"metadata":{},"sourceType":"module"}