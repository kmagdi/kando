{"ast":null,"code":"import _classCallCheck from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\react\\\\kando\\\\kkando\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import csvToJSON from\"./csvToJSON\";import{Detail}from\"./Detail\";var CollectDataSpec=/*#__PURE__*/function(_Component){_inherits(CollectDataSpec,_Component);var _super=_createSuper(CollectDataSpec);function CollectDataSpec(props){var _this;_classCallCheck(this,CollectDataSpec);_this=_super.call(this);_this.state={temaKorok:[],adatok:{},fotok:[],success:false};return _this;}_createClass(CollectDataSpec,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var urlJobs=\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\";fetch(urlJobs).then(function(resp){return resp.text();}).then(function(text){var adatokJSON=csvToJSON(text,';');//console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\n//console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\n//console.log(\"props=\"+this.props.id)\nvar filtered=adatokJSON.filter(function(obj){return obj.kod!==undefined&&obj.kod===_this2.props.id;});if(filtered.length===0){_this2.setState({success:false});}else{_this2.setState({temaKorok:adatokJSON[0]});//console.log(\"filtered type:\"+typeof(filtered))\n//console.log(\"obj keys:\"+Object.keys(filtered[0]))\n_this2.setState({adatok:filtered[0]});console.log(filtered[0]);var db=parseInt(_this2.state.adatok.fotok);//console.log(\"db=\"+db)\nvar urlImg=[];while(db>0){urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\"+_this2.props.id+\"img\"+(db-1)+\".jpg\");db--;}_this2.setState({fotok:urlImg});//console.log(this.state.fotok.length)\n_this2.setState({success:true});}});}},{key:\"render\",value:function render(){// console.log(\"kod=\"+this.state.adatok.kod)\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Detail,{temaKorok:this.state.temaKorok,adatok:this.state.adatok,fotok:this.state.fotok,success:this.state.success}));}}]);return CollectDataSpec;}(Component);export default CollectDataSpec;","map":{"version":3,"sources":["E:/react/kando/kkando/src/components/CollectDataSpec.js"],"names":["React","Component","csvToJSON","Detail","CollectDataSpec","props","state","temaKorok","adatok","fotok","success","urlJobs","fetch","then","resp","text","adatokJSON","filtered","filter","obj","kod","undefined","id","length","setState","console","log","db","parseInt","urlImg","push"],"mappings":"gkBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAAQC,MAAR,KAAqB,UAArB,C,GAIMC,CAAAA,e,kHACF,yBAAYC,KAAZ,CAAkB,iDACd,wBACA,MAAKC,KAAL,CAAa,CACTC,SAAS,CAAC,EADD,CAETC,MAAM,CAAC,EAFE,CAGTC,KAAK,CAAC,EAHG,CAITC,OAAO,CAAC,KAJC,CAAb,CAFc,aAQjB,C,yFACkB,iBACf,GAAMC,CAAAA,OAAO,CAAC,2EAAd,CACAC,KAAK,CAACD,OAAD,CAAL,CACKE,IADL,CACU,SAAAC,IAAI,QAAEA,CAAAA,IAAI,CAACC,IAAL,EAAF,EADd,EAEKF,IAFL,CAEU,SAAAE,IAAI,CAAE,CACR,GAAMC,CAAAA,UAAU,CAACd,SAAS,CAACa,IAAD,CAAO,GAAP,CAA1B,CACA;AACA;AACA;AACA,GAAME,CAAAA,QAAQ,CAACD,UAAU,CAACE,MAAX,CAAkB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,GAAJ,GAAUC,SAAV,EAAqBF,GAAG,CAACC,GAAJ,GAAU,MAAI,CAACf,KAAL,CAAWiB,EAA5C,EAArB,CAAf,CACA,GAAGL,QAAQ,CAACM,MAAT,GAAoB,CAAvB,CAAyB,CACrB,MAAI,CAACC,QAAL,CAAc,CAACd,OAAO,CAAC,KAAT,CAAd,EACH,CAFD,IAEK,CACD,MAAI,CAACc,QAAL,CAAc,CAACjB,SAAS,CAACS,UAAU,CAAC,CAAD,CAArB,CAAd,EACA;AACA;AACA,MAAI,CAACQ,QAAL,CAAc,CAAChB,MAAM,CAACS,QAAQ,CAAC,CAAD,CAAhB,CAAd,EACAQ,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAAC,CAAD,CAApB,EACA,GAAIU,CAAAA,EAAE,CAACC,QAAQ,CAAC,MAAI,CAACtB,KAAL,CAAWE,MAAX,CAAkBC,KAAnB,CAAf,CACA;AACA,GAAIoB,CAAAA,MAAM,CAAC,EAAX,CACA,MAAMF,EAAE,CAAC,CAAT,CAAW,CACXE,MAAM,CAACC,IAAP,CAAY,6DAA6D,MAAI,CAACzB,KAAL,CAAWiB,EAAxE,CAA2E,KAA3E,EAAkFK,EAAE,CAAC,CAArF,EAAwF,MAApG,EACIA,EAAE,GACL,CACD,MAAI,CAACH,QAAL,CAAc,CAACf,KAAK,CAACoB,MAAP,CAAd,EACA;AACA,MAAI,CAACL,QAAL,CAAc,CAACd,OAAO,CAAC,IAAT,CAAd,EACH,CACJ,CA3BL,EA6BH,C,uCAEG,CACL;AACE,mBACG,4CACI,oBAAC,MAAD,EAAQ,SAAS,CAAE,KAAKJ,KAAL,CAAWC,SAA9B,CAAyC,MAAM,CAAE,KAAKD,KAAL,CAAWE,MAA5D,CAAoE,KAAK,CAAE,KAAKF,KAAL,CAAWG,KAAtF,CAA6F,OAAO,CAAE,KAAKH,KAAL,CAAWI,OAAjH,EADJ,CADH,CAIC,C,6BAjDwBT,S,EAmD9B,cAAeG,CAAAA,eAAf","sourcesContent":["import React,{ Component }  from 'react';\r\nimport csvToJSON from \"./csvToJSON\" \r\nimport {Detail} from \"./Detail\"\r\n\r\n\r\n\r\nclass CollectDataSpec extends Component{\r\n    constructor(props){\r\n        super()\r\n        this.state = {\r\n            temaKorok:[],\r\n            adatok:{},\r\n            fotok:[],\r\n            success:false\r\n        }\r\n    }\r\n    componentDidMount(){  \r\n        const urlJobs=\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\"\r\n        fetch(urlJobs)           \r\n            .then(resp=>resp.text())\r\n            .then(text=>{\r\n                const adatokJSON=csvToJSON(text, ';')\r\n                //console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\r\n                //console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\r\n                //console.log(\"props=\"+this.props.id)\r\n                const filtered=adatokJSON.filter(obj=>obj.kod!==undefined&&obj.kod===this.props.id)\r\n                if(filtered.length === 0){\r\n                    this.setState({success:false});\r\n                }else{\r\n                    this.setState({temaKorok:adatokJSON[0]})\r\n                    //console.log(\"filtered type:\"+typeof(filtered))\r\n                    //console.log(\"obj keys:\"+Object.keys(filtered[0]))\r\n                    this.setState({adatok:filtered[0]})\r\n                    console.log(filtered[0])\r\n                    let db=parseInt(this.state.adatok.fotok)\r\n                    //console.log(\"db=\"+db)\r\n                    let urlImg=[]\r\n                    while(db>0){\r\n                    urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\"+this.props.id+\"img\"+(db-1)+\".jpg\")\r\n                        db--;\r\n                    }\r\n                    this.setState({fotok:urlImg})\r\n                    //console.log(this.state.fotok.length)\r\n                    this.setState({success:true});\r\n                }\r\n            })\r\n            \r\n    }\r\n   \r\nrender(){\r\n   // console.log(\"kod=\"+this.state.adatok.kod)\r\n     return(\r\n        <div>\r\n            <Detail temaKorok={this.state.temaKorok} adatok={this.state.adatok} fotok={this.state.fotok} success={this.state.success} />\r\n        </div>\r\n    )}   \r\n}\r\nexport default CollectDataSpec           "]},"metadata":{},"sourceType":"module"}