{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\kando\\\\kkando\\\\src\\\\components\\\\CollectDataSpec.js\";\nimport React, { Component } from 'react';\nimport csvToJSON from \"./csvToJSON\";\nimport { Detail } from \"./Detail\";\n\nclass CollectDataSpec extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      temaKorok: [],\n      adatok: {},\n      fotok: [],\n      failed: false\n    };\n  }\n\n  componentDidMount() {\n    const urlJobs = \"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\";\n    fetch(urlJobs).then(resp => resp.text()).then(text => {\n      const adatokJSON = csvToJSON(text, ';'); //console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\n      //console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\n      //console.log(\"props=\"+this.props.id)\n\n      const filtered = adatokJSON.filter(obj => obj.kod !== undefined && obj.kod === this.props.id);\n\n      if (filtered.length === 0) {\n        this.setState({\n          failed: true\n        });\n      } else {\n        this.setState({\n          failed: false\n        });\n        this.setState({\n          temaKorok: adatokJSON[0]\n        }); //console.log(\"filtered type:\"+typeof(filtered))\n        //console.log(\"obj keys:\"+Object.keys(filtered[0]))\n\n        this.setState({\n          adatok: filtered[0]\n        });\n        console.log(filtered[0]);\n        let db = parseInt(this.state.adatok.fotok); //console.log(\"db=\"+db)\n\n        let urlImg = [];\n\n        while (db > 0) {\n          urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\" + this.props.id + \"img\" + (db - 1) + \".jpg\");\n          db--;\n        }\n\n        this.setState({\n          fotok: urlImg\n        }); //console.log(this.state.fotok.length)\n      }\n    });\n  }\n\n  render() {\n    // console.log(\"kod=\"+this.state.adatok.kod)\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Detail, {\n      temaKorok: this.state.temaKorok,\n      adatok: this.state.adatok,\n      fotok: this.state.fotok,\n      failed: this.state.failed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default CollectDataSpec;","map":{"version":3,"sources":["E:/react/kando/kkando/src/components/CollectDataSpec.js"],"names":["React","Component","csvToJSON","Detail","CollectDataSpec","constructor","props","state","temaKorok","adatok","fotok","failed","componentDidMount","urlJobs","fetch","then","resp","text","adatokJSON","filtered","filter","obj","kod","undefined","id","length","setState","console","log","db","parseInt","urlImg","push","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,MAAR,QAAqB,UAArB;;AAIA,MAAMC,eAAN,SAA8BH,SAA9B,CAAuC;AACnCI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAC,EADD;AAETC,MAAAA,MAAM,EAAC,EAFE;AAGTC,MAAAA,KAAK,EAAC,EAHG;AAITC,MAAAA,MAAM,EAAC;AAJE,KAAb;AAMH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,UAAMC,OAAO,GAAC,2EAAd;AACAC,IAAAA,KAAK,CAACD,OAAD,CAAL,CACKE,IADL,CACUC,IAAI,IAAEA,IAAI,CAACC,IAAL,EADhB,EAEKF,IAFL,CAEUE,IAAI,IAAE;AACR,YAAMC,UAAU,GAAChB,SAAS,CAACe,IAAD,EAAO,GAAP,CAA1B,CADQ,CAER;AACA;AACA;;AACA,YAAME,QAAQ,GAACD,UAAU,CAACE,MAAX,CAAkBC,GAAG,IAAEA,GAAG,CAACC,GAAJ,KAAUC,SAAV,IAAqBF,GAAG,CAACC,GAAJ,KAAU,KAAKhB,KAAL,CAAWkB,EAAjE,CAAf;;AACA,UAAGL,QAAQ,CAACM,MAAT,KAAoB,CAAvB,EAAyB;AACrB,aAAKC,QAAL,CAAc;AAACf,UAAAA,MAAM,EAAC;AAAR,SAAd;AACH,OAFD,MAEK;AACD,aAAKe,QAAL,CAAc;AAACf,UAAAA,MAAM,EAAC;AAAR,SAAd;AACA,aAAKe,QAAL,CAAc;AAAClB,UAAAA,SAAS,EAACU,UAAU,CAAC,CAAD;AAArB,SAAd,EAFC,CAGD;AACA;;AACA,aAAKQ,QAAL,CAAc;AAACjB,UAAAA,MAAM,EAACU,QAAQ,CAAC,CAAD;AAAhB,SAAd;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAAC,CAAD,CAApB;AACA,YAAIU,EAAE,GAACC,QAAQ,CAAC,KAAKvB,KAAL,CAAWE,MAAX,CAAkBC,KAAnB,CAAf,CAPC,CAQD;;AACA,YAAIqB,MAAM,GAAC,EAAX;;AACA,eAAMF,EAAE,GAAC,CAAT,EAAW;AACXE,UAAAA,MAAM,CAACC,IAAP,CAAY,+DAA6D,KAAK1B,KAAL,CAAWkB,EAAxE,GAA2E,KAA3E,IAAkFK,EAAE,GAAC,CAArF,IAAwF,MAApG;AACIA,UAAAA,EAAE;AACL;;AACD,aAAKH,QAAL,CAAc;AAAChB,UAAAA,KAAK,EAACqB;AAAP,SAAd,EAdC,CAeD;AACH;AACJ,KA3BL;AA6BH;;AAELE,EAAAA,MAAM,GAAE;AACL;AACE,wBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE,KAAK1B,KAAL,CAAWC,SAA9B;AAAyC,MAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,MAA5D;AAAoE,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,KAAtF;AAA6F,MAAA,MAAM,EAAE,KAAKH,KAAL,CAAWI,MAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADH;AAIC;;AAjDiC;;AAmDvC,eAAeP,eAAf","sourcesContent":["import React,{ Component }  from 'react';\r\nimport csvToJSON from \"./csvToJSON\" \r\nimport {Detail} from \"./Detail\"\r\n\r\n\r\n\r\nclass CollectDataSpec extends Component{\r\n    constructor(props){\r\n        super()\r\n        this.state = {\r\n            temaKorok:[],\r\n            adatok:{},\r\n            fotok:[],\r\n            failed:false\r\n        }\r\n    }\r\n    componentDidMount(){  \r\n        const urlJobs=\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/reszletekKK.csv\"\r\n        fetch(urlJobs)           \r\n            .then(resp=>resp.text())\r\n            .then(text=>{\r\n                const adatokJSON=csvToJSON(text, ';')\r\n                //console.log(\"adatokJSON 0:\"+adatokJSON[0].leiras)\r\n                //console.log(\"adatokJSON 1:\"+adatokJSON[1].leiras)\r\n                //console.log(\"props=\"+this.props.id)\r\n                const filtered=adatokJSON.filter(obj=>obj.kod!==undefined&&obj.kod===this.props.id)\r\n                if(filtered.length === 0){\r\n                    this.setState({failed:true});\r\n                }else{\r\n                    this.setState({failed:false});\r\n                    this.setState({temaKorok:adatokJSON[0]})\r\n                    //console.log(\"filtered type:\"+typeof(filtered))\r\n                    //console.log(\"obj keys:\"+Object.keys(filtered[0]))\r\n                    this.setState({adatok:filtered[0]})\r\n                    console.log(filtered[0])\r\n                    let db=parseInt(this.state.adatok.fotok)\r\n                    //console.log(\"db=\"+db)\r\n                    let urlImg=[]\r\n                    while(db>0){\r\n                    urlImg.push(\"https://raw.githubusercontent.com/kmagdi/KSZC-Data/master/\"+this.props.id+\"img\"+(db-1)+\".jpg\")\r\n                        db--;\r\n                    }\r\n                    this.setState({fotok:urlImg})\r\n                    //console.log(this.state.fotok.length)\r\n                }\r\n            })\r\n            \r\n    }\r\n   \r\nrender(){\r\n   // console.log(\"kod=\"+this.state.adatok.kod)\r\n     return(\r\n        <div>\r\n            <Detail temaKorok={this.state.temaKorok} adatok={this.state.adatok} fotok={this.state.fotok} failed={this.state.failed} />\r\n        </div>\r\n    )}   \r\n}\r\nexport default CollectDataSpec           "]},"metadata":{},"sourceType":"module"}